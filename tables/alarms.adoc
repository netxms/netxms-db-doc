[[t-alarms]]
=== ALARMS

List of all generated alarms regardless of the state.
Cleaned up automatically by the housekeeper.

.Columns
[cols="21,18,13,10,38a"]
|===
|Name|Type|State|Default|Description
|ðŸ”‘alarm_id
|INTEGER
|NOT NULL
|âˆ…
|Unique identifier.

|alarm_state
|INTEGER
|NOT NULL
|âˆ…
|Bitmask indicating state of the alarm:

* 0x00 - Outstanding
* 0x01 - Acknowledged
* 0x02 - Resolved
* 0x03 - Terminated 
* 0x10 - Sticky Acknowledged

|hd_state
|INTEGER
|NOT NULL
|âˆ…
|State of the related helpdesk ticket (if any):

* 0 - Ignored (default when no ticket is created from alarm)
* 1 - Open
* 2 - Closed

|hd_ref
|VARCHAR(63)
|NULL
|âˆ…
|Helpdesk ticket id.

|creation_time
|INTEGER
|NOT NULL
|âˆ…
|Unix time stamp of alarm creation.

|last_change_time
|INTEGER
|NOT NULL
|âˆ…
|Unix time stamp of last modification.

|source_object_id
|INTEGER
|NOT NULL
|âˆ…
|Source object of the event which resulted in an alarm. Reference to <<t-nodes>>, <<t-clusters>>, etc.

|source_event_code
|INTEGER
|NOT NULL
|âˆ…
|Event code of the event which resulted in an alarm. Reference to <<t-event-cfg>>.

|source_event_id
|BIGINT
|NOT NULL
|âˆ…
|ID of the event which resulted in an alarm. Reference to <<t-event-log>>.

|dci_id
|INTEGER
|NOT NULL
|âˆ…
|ID of the related data collection item or `0` if event was not generated by threshold violation.
Reference to <<t-items>>.

|message
|VARCHAR(2000)
|NULL
|âˆ…
|Alarm message.

|original_severity
|INTEGER
|NOT NULL
|âˆ…
|Alarm severity when alarm was generated.

|current_severity
|INTEGER
|NOT NULL
|âˆ…
|Current alarm severity. May differ from `current_severity` if alarm was repeated.

|repeat_count
|INTEGER
|NOT NULL
|âˆ…
|Number of repeated events with the same `alarm_key`.

|alarm_key
|VARCHAR(255)
|NULL
|âˆ…
|Alarm key.

|ack_by
|INTEGER
|NOT NULL
|âˆ…
|User, who acknowledged this alarm. Reference to <<t-users>>.

|resolved_by
|INTEGER
|NOT NULL
|âˆ…
|User, who resolved this alarm. Reference to <<t-users>>.

|term_by
|INTEGER
|NOT NULL
|âˆ…
|User, who terminated this alarm. Reference to <<t-users>>.

|timeout
|INTEGER
|NOT NULL
|âˆ…
|Alarm timeout in seconds.

|timeout_event
|INTEGER
|NOT NULL
|âˆ…
|Code of the event which should be send if `alarm_state` remains in Outstanding state for `timeout` seconds.

|ack_timeout
|INTEGER
|NOT NULL
|âˆ…
|Timeout for sticky acknowledgement.

|alarm_category_ids
|VARCHAR(255)
|NULL
|âˆ…
|Comma-separated list of related alarm categories. Reference to <<t-alarm-categories>>.

|zone_uin
|INTEGER
|NULL
|âˆ…
|Zone unique identification number form <<t-zones>>
|===

.Indexes
[cols="30,15,55a"]
|===
|Name|Type|Fields
|alarms_pkey
|UNIQUE
|alarm_id

|===
