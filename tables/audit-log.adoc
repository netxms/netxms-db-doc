[[t-audit-log]]
=== AUDIT_LOG

Log of all user actions.

.Columns
[cols="15,17,13,10,45a"]
|===
|Name|Type|State|Default|Description
|ðŸ”‘record_id
|INTEGER
|NOT NULL
|âˆ…
|Unique record identifier.

|timestamp
|INTEGER
|NOT NULL
|âˆ…
|Unix timestamp.

|subsystem
|VARCHAR(32)
|NOT NULL
|âˆ…
|System component name.

|success
|INTEGER
|NOT NULL
|âˆ…
|Success indicator.

|user_id
|INTEGER
|NOT NULL
|âˆ…
|ID of the user performed logged action. Reference to <<t-users>>.

|workstation
|VARCHAR(63)
|NOT NULL
|âˆ…
|IP of the user's workstation.

|session_id
|INTEGER
|NOT NULL
|âˆ…
|User's session id.

|object_id
|INTEGER
|NOT NULL
|âˆ…
|Target object id which was involved in the logged action.

|message
|TEXT
|NULL
|âˆ…
|Audit record text.

|old_value
|TEXT
|NULL
|âˆ…
|Old value. Object is saved in json format

|new_value
|TEXT
|NULL
|âˆ…
|New value. Object is saved in json format

|value_diff
|TEXT
|NULL
|âˆ…
|Diff from old and new value. Object data is represented in json format

|value_type
|VARCHAR(1)
|NOT NULL
|âˆ…
|Value type for old_value and new_value fields.

|hmac
|VARCHAR(64)
|NOT NULL
|âˆ…
|HMAC calculated using all audit log fields. 
|===

.Indexes
[cols="30,15,55a"]
|===
|Name|Type|Fields
|audit_log_pkey
|UNIQUE
|record_id

|===
